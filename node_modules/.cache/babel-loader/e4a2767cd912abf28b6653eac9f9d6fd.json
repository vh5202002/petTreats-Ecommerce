{"ast":null,"code":"import _slicedToArray from \"/Users/choya/1_ReactProject/petEssentials/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/choya/1_ReactProject/petEssentials/client/src/screens/Login.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Message from \"../components/LoadingError/Error\";\nimport Loading from \"../components/LoadingError/Loading\";\nimport Header from \"./../components/Header\";\nimport { login } from \"./../Redux/Actions/userActions\";\nvar Login = function Login(_ref) {\n  var location = _ref.location,\n    history = _ref.history;\n  window.scrollTo(0, 0);\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var dispatch = useDispatch();\n  var redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\n  var userLogin = useSelector(function (state) {\n    return state.userLogin;\n  });\n  var error = userLogin.error,\n    loading = userLogin.loading,\n    userInfo = userLogin.userInfo;\n  useEffect(function () {\n    if (userInfo) {\n      history.push(redirect);\n    }\n  }, [userInfo, history, redirect]);\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n    dispatch(login(email, password));\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container d-flex flex-column justify-content-center align-items-center login-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, error && /*#__PURE__*/React.createElement(Message, {\n    variant: \"alert-danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 19\n    }\n  }, error), loading && /*#__PURE__*/React.createElement(Loading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"Login col-md-8 col-lg-4 col-11\",\n    onSubmit: submitHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: redirect ? \"/register?redirect=\".concat(redirect) : \"/register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Create Account\")))));\n};\nexport default Login;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Link","Message","Loading","Header","login","Login","location","history","window","scrollTo","email","setEmail","password","setPassword","dispatch","redirect","search","split","userLogin","state","error","loading","userInfo","push","submitHandler","e","preventDefault","target","value"],"sources":["/Users/choya/1_ReactProject/petEssentials/client/src/screens/Login.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Message from \"../components/LoadingError/Error\";\r\nimport Loading from \"../components/LoadingError/Loading\";\r\nimport Header from \"./../components/Header\";\r\nimport { login } from \"./../Redux/Actions/userActions\";\r\n\r\nconst Login = ({ location, history }) => {\r\n  window.scrollTo(0, 0);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n  const redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { error, loading, userInfo } = userLogin;\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      history.push(redirect);\r\n    }\r\n  }, [userInfo, history, redirect]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(login(email, password));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"container d-flex flex-column justify-content-center align-items-center login-center\">\r\n        {error && <Message variant=\"alert-danger\">{error}</Message>}\r\n        {loading && <Loading />}\r\n        <form\r\n          className=\"Login col-md-8 col-lg-4 col-11\"\r\n          onSubmit={submitHandler}\r\n        >\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <button type=\"submit\">Login</button>\r\n          <p>\r\n            <Link\r\n              to={redirect ? `/register?redirect=${redirect}` : \"/register\"}\r\n            >\r\n              Create Account\r\n            </Link>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}