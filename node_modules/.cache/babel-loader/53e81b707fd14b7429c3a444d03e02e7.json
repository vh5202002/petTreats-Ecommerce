{"ast":null,"code":"import _toConsumableArray from \"/Users/choya/1_ReactProject/petEssentials/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/choya/1_ReactProject/petEssentials/client/src/screens/CartScreen.js\";\nimport React, { useEffect } from \"react\";\nimport Header from \"./../components/Header\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addToCart, removefromcart } from \"./../Redux/Actions/cartActions\";\nvar CartScreen = function CartScreen(_ref) {\n  var match = _ref.match,\n    location = _ref.location,\n    history = _ref.history;\n  window.scrollTo(0, 0);\n  var dispatch = useDispatch();\n  var productId = match.params.id;\n  var qty = location.search ? Number(location.search.split(\"=\")[1]) : 1;\n  var cart = useSelector(function (state) {\n    return state.cart;\n  });\n  var cartItems = cart.cartItems;\n  var total = cartItems.reduce(function (a, i) {\n    return a + i.qty * i.price;\n  }, 0).toFixed(2);\n  useEffect(function () {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n  var checkOutHandler = function checkOutHandler() {\n    history.push(\"/login?redirect=shipping\");\n  };\n  var removeFromCartHandle = function removeFromCartHandle(id) {\n    dispatch(removefromcart(id));\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, cartItems.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \" alert alert-info text-center mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, \"Your cart is empty\", /*#__PURE__*/React.createElement(Link, {\n    className: \"btn btn-success mx-5 px-5 py-3\",\n    to: \"/\",\n    style: {\n      fontSize: \"12px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, \"SHOPPING NOW\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \" alert alert-info text-center mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"Total Cart Products\", /*#__PURE__*/React.createElement(Link, {\n    className: \"text-success mx-2\",\n    to: \"/cart\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, \"(\", cartItems.length, \")\")), cartItems.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-iterm row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: function onClick() {\n        return removeFromCartHandle(item.product);\n      },\n      className: \"remove-button d-flex justify-content-center align-items-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-times\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-image col-md-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.image,\n      alt: item.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-text col-md-5 d-flex align-items-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/products/\".concat(item.product),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, item.name))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-qty col-md-2 col-sm-5 mt-md-5 mt-3 mt-md-0 d-flex flex-column justify-content-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }\n    }, \"QUANTITY\"), /*#__PURE__*/React.createElement(\"select\", {\n      value: item.qty,\n      onChange: function onChange(e) {\n        return dispatch(addToCart(item.product, Number(e.target.value)));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }\n    }, _toConsumableArray(Array(item.countInStock).keys()).map(function (x) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: x + 1,\n        value: x + 1,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 23\n        }\n      }, x + 1);\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-price mt-3 mt-md-0 col-md-2 align-items-sm-end align-items-start  d-flex flex-column justify-content-center col-sm-7\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 19\n      }\n    }, \"PRICE\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    }, \"$\", item.price)));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"total\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sub\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, \"total:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"total-price\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, \"$\", total)), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-buttons d-flex align-items-center row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"col-md-6 \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, \"Continue To Shopping\")), total > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 d-flex justify-content-md-end mt-3 mt-md-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: checkOutHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, \"Checkout\"))))));\n};\nexport default CartScreen;","map":{"version":3,"names":["React","useEffect","Header","Link","useDispatch","useSelector","addToCart","removefromcart","CartScreen","match","location","history","window","scrollTo","dispatch","productId","params","id","qty","search","Number","split","cart","state","cartItems","total","reduce","a","i","price","toFixed","checkOutHandler","push","removeFromCartHandle","length","fontSize","map","item","product","image","name","e","target","value","Array","countInStock","keys","x"],"sources":["/Users/choya/1_ReactProject/petEssentials/client/src/screens/CartScreen.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport Header from \"./../components/Header\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addToCart, removefromcart } from \"./../Redux/Actions/cartActions\";\r\n\r\nconst CartScreen = ({ match, location, history }) => {\r\n  window.scrollTo(0, 0);\r\n  const dispatch = useDispatch();\r\n  const productId = match.params.id;\r\n  const qty = location.search ? Number(location.search.split(\"=\")[1]) : 1;\r\n\r\n  const cart = useSelector((state) => state.cart);\r\n  const { cartItems } = cart;\r\n\r\n  const total = cartItems.reduce((a, i) => a + i.qty * i.price, 0).toFixed(2);\r\n\r\n  useEffect(() => {\r\n    if (productId) {\r\n      dispatch(addToCart(productId, qty));\r\n    }\r\n  }, [dispatch, productId, qty]);\r\n\r\n  const checkOutHandler = () => {\r\n    history.push(\"/login?redirect=shipping\");\r\n  };\r\n\r\n  const removeFromCartHandle = (id) => {\r\n    dispatch(removefromcart(id));\r\n  };\r\n  return (\r\n    <>\r\n      <Header />\r\n      {/* Cart */}\r\n      <div className=\"container\">\r\n        {cartItems.length === 0 ? (\r\n          <div className=\" alert alert-info text-center mt-3\">\r\n            Your cart is empty\r\n            <Link\r\n              className=\"btn btn-success mx-5 px-5 py-3\"\r\n              to=\"/\"\r\n              style={{\r\n                fontSize: \"12px\",\r\n              }}\r\n            >\r\n              SHOPPING NOW\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className=\" alert alert-info text-center mt-3\">\r\n              Total Cart Products\r\n              <Link className=\"text-success mx-2\" to=\"/cart\">\r\n                ({cartItems.length})\r\n              </Link>\r\n            </div>\r\n            {/* cartiterm */}\r\n            {cartItems.map((item) => (\r\n              <div className=\"cart-iterm row\">\r\n                <div\r\n                  onClick={() => removeFromCartHandle(item.product)}\r\n                  className=\"remove-button d-flex justify-content-center align-items-center\"\r\n                >\r\n                  <i className=\"fas fa-times\"></i>\r\n                </div>\r\n                <div className=\"cart-image col-md-3\">\r\n                  <img src={item.image} alt={item.name} />\r\n                </div>\r\n                <div className=\"cart-text col-md-5 d-flex align-items-center\">\r\n                  <Link to={`/products/${item.product}`}>\r\n                    <h4>{item.name}</h4>\r\n                  </Link>\r\n                </div>\r\n                <div className=\"cart-qty col-md-2 col-sm-5 mt-md-5 mt-3 mt-md-0 d-flex flex-column justify-content-center\">\r\n                  <h6>QUANTITY</h6>\r\n                  <select\r\n                    value={item.qty}\r\n                    onChange={(e) =>\r\n                      dispatch(addToCart(item.product, Number(e.target.value)))\r\n                    }\r\n                  >\r\n                    {[...Array(item.countInStock).keys()].map((x) => (\r\n                      <option key={x + 1} value={x + 1}>\r\n                        {x + 1}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"cart-price mt-3 mt-md-0 col-md-2 align-items-sm-end align-items-start  d-flex flex-column justify-content-center col-sm-7\">\r\n                  <h6>PRICE</h6>\r\n                  <h4>${item.price}</h4>\r\n                </div>\r\n              </div>\r\n            ))}\r\n\r\n            {/* End of cart iterms */}\r\n            <div className=\"total\">\r\n              <span className=\"sub\">total:</span>\r\n              <span className=\"total-price\">${total}</span>\r\n            </div>\r\n            <hr />\r\n            <div className=\"cart-buttons d-flex align-items-center row\">\r\n              <Link to=\"/\" className=\"col-md-6 \">\r\n                <button>Continue To Shopping</button>\r\n              </Link>\r\n              {total > 0 && (\r\n                <div className=\"col-md-6 d-flex justify-content-md-end mt-3 mt-md-0\">\r\n                  <button onClick={checkOutHandler}>Checkout</button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CartScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}